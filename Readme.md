# File Structure
### Code Files

##### Basic files

visualization.py
- Display data in a way that is easier to observe, so as to observe the relationship between packet loss and delay
- Input: Dataset
- Output: Relationship graph

data_process.py
- Process the original data set (the first and second data sets at the same time, in order to increase the number of positive values) using windows with different parameters
- Input: Data sets from two tests
- Output: N\*X\*12 test sets

nn_combine.py
- All links (mobile and fiber separately) data set neural network model
- Input: processed test set
- Output: confusion matrix and indicators corresponding to the recall optimal model of a pair of NX values

xgboost_combine.py
- XGB model for all links (mobile and fiber separately) dataset
- Input: processed test set
- Output: confusion matrix and indicators corresponding to the recall optimal model for a pair of NX values

merger_nx.py
- Used to merge multiple NX value csv files and generate Recall heat map
- Input: csv files corresponding to all NX values
- Output: merged csv files and Recall heat map

##### Federated Learning

data_process_fl.py
- Data processing for federated learning (using one dataset for training and one for testing, using only N=5, X=1)
- Input: two test datasets
- Output: 12 training sets, 12 test sets

xgboost_fl.py
- Model output of xgb federated learning (only mobile is selected, n=5, x=1)
- Input: training set
- Output: model

nn_fl.py
- Model output of nn federated learning (only mobile is selected, n=5, x=1)
- Input: training set
- Output: model

xgboost_fl_controller.py
- xgb federated learning controller, reads the model and federates it into one
- Input: model of a single CPE
- Output: federated learning model

nn_fl_controller.py
- nn federated learning controller, reads the model and federates it into one
- Input: model of a single CPE
- Output: federated learning model

xgboost_model_load.py
- Read the model and test the test set
- Input: test set, model
- Output: confusion matrix and indicators corresponding to the recall optimal model

nn_model_load.py
- Read the model and test the test set
- Input: test set, model
- Output: confusion matrix and indicators corresponding to the recall optimal model

### Output File

visualization
- Visualization of datasets

feature_importance
- Evaluate the importance of features

change_with_n_x
- Images and data of how model recall changes with changes in N and X

federated
- Models, data, and images corresponding to federated learning
- all: models trained by all CPEs
- local: models trained by CPEs only
- fed: federated learning models generated by collecting models from CPEs

single_link
- Training results of a single link


# Workflow

in `examlpe` just the n=5, x=1
- *you can change the LOOKBACK_SECONDS_LIST and PREDICT_SECONDS_LIST*
1. visualization.py
2. data_process.py
3. nn_combine.py or xgboost_combine.py
4. merger_nx.py 
	- *to get the expected output you need to change the LOOKBACK_SECONDS_LIST PREDICT_SECONDS_LIST and out_dir*
5. data_process_fl.py
6. xgboost_fl.py or nn_fl.py
7. xgboost_fl_controller.py or nn_fl_controller.py
	- *only one CPE in example*
8. xgboost_model_load.py or nn_model_load.py